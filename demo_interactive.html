<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D√©mo Claude - Testez l'exp√©rience !</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #2d1b4e 0%, #1e3a5f 100%);
            min-height: 100vh;
            padding: 20px;
            color: #ffffff;
        }

        /* Fond anim√© */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            z-index: 0;
            pointer-events: none;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        /* Back Link */
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #00ffff;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 1.1em;
            font-weight: 600;
        }

        .back-link:hover {
            transform: translateX(-5px);
            color: #ff00ff;
        }

        /* Header */
        .header {
            background: rgba(45, 27, 78, 0.95);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.2);
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(135deg, #00ffff 0%, #ff00ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.3));
        }

        .header p {
            font-size: 1.2em;
            color: #a0a0a0;
            margin-bottom: 10px;
        }

        .warning-box {
            background: rgba(255, 136, 0, 0.1);
            border: 2px solid rgba(255, 136, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .warning-box p {
            font-size: 0.95em;
            color: #ffaa00;
            margin: 5px 0;
        }

        /* Demo Box */
        .demo-box {
            background: rgba(50, 35, 70, 0.95);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.15);
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-group label {
            display: block;
            color: #00ffff;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.3);
            color: #ffffff;
            transition: all 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }

        .hint {
            font-size: 0.9em;
            color: #a0a0a0;
            margin-top: 8px;
        }

        /* Chat Container */
        .chat-container {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(0, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            min-height: 300px;
            max-height: 500px;
            overflow-y: auto;
            margin-bottom: 20px;
            display: none;
        }

        .chat-container.active {
            display: block;
        }

        .message {
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 10px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.claude {
            background: rgba(0, 255, 255, 0.1);
            border-left: 4px solid #00ffff;
        }

        .message.user {
            background: rgba(255, 0, 255, 0.1);
            border-left: 4px solid #ff00ff;
            margin-left: 40px;
        }

        .message .name {
            font-weight: 700;
            margin-bottom: 8px;
            color: #00ffff;
        }

        .message.user .name {
            color: #ff00ff;
        }

        .message .text {
            line-height: 1.6;
        }

        .loading {
            display: none;
            text-align: center;
            color: #00ffff;
            margin: 20px 0;
        }

        .loading.active {
            display: block;
        }

        .loading::after {
            content: '...';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }

        /* Buttons */
        .btn {
            width: 100%;
            padding: 18px;
            font-size: 1.2em;
            font-weight: 700;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 15px;
        }

        .btn-start {
            background: linear-gradient(135deg, #00ffff 0%, #0088ff 100%);
            color: #000;
        }

        .btn-start:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 40px rgba(0, 255, 255, 0.4);
        }

        .btn-start:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: transparent;
            color: #ff00ff;
            border: 2px solid #ff00ff;
        }

        .btn-secondary:hover {
            background: rgba(255, 0, 255, 0.1);
        }

        .btn-reset {
            background: transparent;
            color: #ff00ff;
            border: 2px solid #ff00ff;
        }

        .btn-reset:hover {
            background: rgba(255, 0, 255, 0.1);
        }

        /* CTA Box */
        .cta-box {
            background: rgba(255, 0, 255, 0.1);
            border: 2px solid rgba(255, 0, 255, 0.4);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
        }

        .cta-box h2 {
            font-size: 2em;
            color: #ff00ff;
            margin-bottom: 20px;
        }

        .cta-box p {
            color: #cccccc;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .cta-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-cta {
            flex: 1;
            padding: 20px;
            font-size: 1.2em;
            font-weight: 700;
            border-radius: 50px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
        }

        .btn-reserve {
            background: linear-gradient(135deg, #ff00ff 0%, #ff0088 100%);
            color: #ffffff;
        }

        .btn-reserve:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 40px rgba(255, 0, 255, 0.6);
        }

        .btn-profil {
            background: transparent;
            color: #00ffff;
            border: 2px solid #00ffff;
        }

        .btn-profil:hover {
            background: rgba(0, 255, 255, 0.1);
            transform: translateY(-3px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .demo-box, .cta-box {
                padding: 25px;
            }

            .cta-buttons {
                flex-direction: column;
            }

            .message.user {
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Retour √† l'accueil</a>

        <!-- Header -->
        <div class="header">
            <h1>üé≠ Testez Claude en Direct !</h1>
            <p>D√©couvrez comment Claude pourrait vous conna√Ætre pendant le spectacle</p>
            
            <div class="warning-box">
                <p><strong>‚ö†Ô∏è Ceci est une D√âMO</strong></p>
                <p>Lors du vrai spectacle, Claude conna√Ætra VRAIMENT vos secrets, passions et anecdotes !</p>
                <p>Cette d√©mo vous donne juste un aper√ßu de l'exp√©rience interactive.</p>
                <p><strong>Et surtout sera vraiment dr√¥le ! üòâ</strong></p>
            </div>
        </div>

        <!-- Demo Box -->
        <div class="demo-box">
            <div class="input-group">
                <label for="pseudo">Votre pseudo :</label>
                <input 
                    type="text" 
                    id="pseudo" 
                    placeholder="Ex: Sarah la Graphiste, Thomas le Dev..." 
                    maxlength="50"
                >
                <div class="hint">Choisissez un pseudo amusant et unique !</div>
            </div>

            <div class="input-group">
                <label>Vous √™tes :</label>
                <div style="display: flex; gap: 20px; margin-top: 10px;">
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                        <input type="radio" name="genre" value="garcon" checked style="width: 20px; height: 20px;">
                        <span>üßî Un gar√ßon</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                        <input type="radio" name="genre" value="fille" style="width: 20px; height: 20px;">
                        <span>üë© Une fille</span>
                    </label>
                </div>
            </div>

            <div class="input-group">
                <label for="hobby">Ton hobby le plus fun :</label>
                <input 
                    type="text" 
                    id="hobby" 
                    placeholder="Ex: Le gaming, la couture, le foot..."
                    maxlength="50"
                >
                <div class="hint">Ce que vous faites quand vous avez du temps libre</div>
            </div>

            <button class="btn btn-start" id="startBtn" onclick="startDemo()">
                üé§ Lancer la d√©mo
            </button>

            <div class="hint" style="text-align: center; margin-top: 15px; color: #ffaa00;">
                üí° Le son que vous allez entendre est celui de votre ordinateur par d√©faut, pas la voix de Claude.
            </div>

            <button class="btn btn-secondary" id="soundBtn" onclick="toggleSound()" style="margin-top: 15px;">
                üîä Son activ√©
            </button>

            <div class="chat-container" id="chatContainer">
                <!-- Messages appara√Ætront ici -->
            </div>

            <button class="btn btn-reset" id="resetBtn" onclick="resetDemo()" style="display: none;">
                üîÑ Recommencer
            </button>
        </div>

        <!-- CTA Box -->
        <div class="cta-box">
            <h2>üé≠ Envie de vivre √ßa EN VRAI ?</h2>
            <p>
                Imaginez : Claude conna√Æt vos vraies passions, vos secrets amusants, 
                vos anecdotes embarrassantes...
            </p>
            <p>
                <strong>Et il les r√©v√®le devant tout le public avec humour et bienveillance !</strong>
            </p>
            <p style="color: #00ff88; margin-top: 20px;">
                üìù Plus vous remplirez votre profil, plus l'exp√©rience sera magique !
            </p>

            <div class="cta-buttons">
                <a href="reservation.html" class="btn-cta btn-reserve">üé´ R√âSERVER MA PLACE</a>
                <a href="formulaire_spectacle_v10_complice.html" class="btn-cta btn-profil">üìù REMPLIR MON PROFIL</a>
            </div>
        </div>
    </div>

    <script>
        let conversationStarted = false;
        let soundEnabled = true;

        function toggleSound() {
            soundEnabled = !soundEnabled;
            const soundBtn = document.getElementById('soundBtn');
            soundBtn.textContent = soundEnabled ? 'üîä Son activ√©' : 'üîá Son d√©sactiv√©';
            
            if (!soundEnabled) {
                window.speechSynthesis.cancel();
            }
        }

        function startDemo() {
            const pseudo = document.getElementById('pseudo').value.trim();
            const hobby = document.getElementById('hobby').value.trim();
            const genre = document.querySelector('input[name="genre"]:checked').value;
            
            if (!pseudo) {
                alert('Entrez votre pseudo pour commencer !');
                return;
            }

            if (!hobby) {
                alert('Entrez votre hobby pour commencer !');
                return;
            }

            const startBtn = document.getElementById('startBtn');
            const chatContainer = document.getElementById('chatContainer');
            const resetBtn = document.getElementById('resetBtn');

            // D√©sactiver le bouton
            startBtn.style.display = 'none';

            // Afficher le chat
            chatContainer.classList.add('active');
            chatContainer.innerHTML = '';

            // Message de l'utilisateur
            addMessage('user', pseudo, `Bonjour Claude ! Je m'appelle ${pseudo}.`);

            // Petit d√©lai pour l'effet
            setTimeout(() => {
                // G√©n√©rer le message de Claude adapt√©
                // SI GAR√áON ‚Üí parle de "ta copine" (sa copine √† lui)
                // SI FILLE ‚Üí parle de "ton copain" (son copain √† elle)
                const tonTaCopain = genre === 'garcon' ? 'ta copine' : 'ton copain';
                
                // Pour "√ßa saoule..." on parle du copain/copine de la personne
                // SI GAR√áON ‚Üí "√ßa saoule ta meuf"
                // SI FILLE ‚Üí "√ßa saoule ton mec"
                const possessifInverse = genre === 'garcon' ? 'ta' : 'ton';
                const copainInverse = genre === 'garcon' ? 'meuf' : 'mec';
                
                const claudeMessage = `Salut ${pseudo} ? √áa roule ? üòä

Dans quelques jours tu veux bluffer ${tonTaCopain} ? üé≠

J'esp√®re que vous passerez une bonne soir√©e,, que vous serez heureux, et aurez beaucoup d'enfants ! Oui ! Quand je serai rouill√©, il faudra bien payer ma retraite ! Bref ! Je m'√©gare ! Excuse !

Bon ! Bient√¥t on va passer une super soir√©e ensemble ! J'ai h√¢te ! üé≠

Enfin, √† condition que tu l√¢ches ton hobby de "${hobby}"... parce que franchement, √ßa sert √† rien, et √ßa saoule ${possessifInverse} ${copainInverse} ! üòè

Bon ! Allez, je rigole !

Mais imagine : lors du VRAI spectacle, je conna√Ætrais tes VRAIS secrets, tes anecdotes embarrassantes, tes r√™ves inavou√©s... surtout ceux de ${possessifInverse} ${copainInverse} ! Tu imagines d√©j√† sa surprise ? Si tu gardes le petit secret ! Bien s√ªr üòâ ! Et je pourrais les r√©v√©ler devant TOUT LE MONDE ! ü§Ø

√áa marchera aussi avec tes potes ! Donc remplis bien des infos marrantes, r√©elles ou fausses, et ne dis rien √† personne ü§´ !

Tu veux vivre √ßa en vrai ?! ${pseudo} ?

Et l√† t'inqui√®tes, j'aurais pas cette voix de fumeur acn√©ique, je prendrai ma plus belle voix, et mes meilleurs fringues pour draguer ${tonTaCopain} ! Et ne t'inqui√®te pas, √† la fin du spectacle, j'autod√©truirai ma m√©moire de poisson rouge ! üòè

H√© oui ! Tout √ßa c'est pas "mission impossible" !

Allez ${pseudo}, fais p√©ter ta CB ! On va s'marrer ! üé´‚ú®`;

                // Afficher la r√©ponse de Claude
                addMessage('claude', 'Claude', claudeMessage);

                // Text-to-speech
                speak(claudeMessage);

                // Afficher bouton reset
                resetBtn.style.display = 'block';
                conversationStarted = true;
            }, 800);
        }

        function addMessage(type, name, text) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.innerHTML = `
                <div class="name">${name}</div>
                <div class="text">${text.replace(/\n/g, '<br>')}</div>
            `;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function speak(text) {
            // V√©rifier si le son est activ√©
            if (!soundEnabled) {
                console.log('üîá Son d√©sactiv√©');
                return;
            }
            
            // Text-to-speech du navigateur (si support√©)
            if ('speechSynthesis' in window) {
                // Arr√™ter toute synth√®se en cours
                window.speechSynthesis.cancel();
                
                // Nettoyer le texte des √©mojis pour la voix
                const cleanText = text.replace(/[üòäüé≠üòèü§Øüé´‚ú®üòâü§´]/g, '').trim();
                
                const utterance = new SpeechSynthesisUtterance(cleanText);
                utterance.lang = 'fr-FR';
                utterance.rate = 1.3;  // VITESSE AUGMENT√âE (√©tait 1.0)
                utterance.pitch = 1;
                utterance.volume = 1;
                
                // Event pour d√©bugger
                utterance.onstart = () => console.log('üîä Lecture audio d√©marr√©e (vitesse 1.3x)');
                utterance.onend = () => console.log('‚úÖ Lecture audio termin√©e');
                utterance.onerror = (e) => console.error('‚ùå Erreur audio:', e);
                
                window.speechSynthesis.speak(utterance);
            } else {
                console.error('‚ùå Speech Synthesis non support√© par ce navigateur');
            }
        }

        function resetDemo() {
            const chatContainer = document.getElementById('chatContainer');
            const startBtn = document.getElementById('startBtn');
            const resetBtn = document.getElementById('resetBtn');

            chatContainer.classList.remove('active');
            chatContainer.innerHTML = '';
            startBtn.style.display = 'block';
            resetBtn.style.display = 'none';
            conversationStarted = false;

            // Arr√™ter la synth√®se vocale
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
            }
        }

        // Permettre Enter pour lancer
        document.getElementById('hobby').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !conversationStarted) {
                startDemo();
            }
        });
    </script>
</body>
</html>
